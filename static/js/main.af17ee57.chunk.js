(this["webpackJsonpcrypto-trader"]=this["webpackJsonpcrypto-trader"]||[]).push([[0],{114:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var r,a,o=n(0),c=n.n(o),i=n(35),u=n.n(i),l=(n(86),n(11)),s=n(24),d=n(128);function b(e){return function(t,n){return"undefined"===typeof t?{type:e}:"undefined"===typeof n?{type:e,payload:t}:{type:e,payload:t,meta:n}}}function f(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;return e.hasOwnProperty(r.type)?e[r.type](n,r):n}}!function(e){e[e.Unknown=0]="Unknown",e[e.Connected=1]="Connected",e[e.Disconnected=2]="Disconnected"}(r||(r={})),function(e){e.SEND_MESSAGE="TRANSPORT/SEND_MESSAGE",e.RECEIVE_MESSAGE="TRANSPORT/RECEIVE_MESSAGE",e.CHANGE_CONNECTION_STATUS="TRANSPORT/CHANGE_CONNECTION_STATUS",e.SUBSCRIBE_TO_CHANNEL="TRANSPORT/SUBSCRIBE_TO_CHANNEL",e.SUBSCRIBE_TO_CHANNEL_ACK="TRANSPORT/SUBSCRIBE_TO_CHANNEL_ACK",e.SUBSCRIBE_TO_CHANNEL_NACK="TRANSPORT/SUBSCRIBE_TO_CHANNEL_NACK",e.UNSUBSCRIBE_FROM_CHANNEL="TRANSPORT/UNSUBSCRIBE_FROM_CHANNEL",e.UNSUBSCRIBE_FROM_CHANNEL_ACK="TRANSPORT/UNSUBSCRIBE_FROM_CHANNEL_ACK",e.UNSUBSCRIBE_FROM_CHANNEL_NACK="TRANSPORT/UNSUBSCRIBE_FROM_CHANNEL_NACK"}(a||(a={}));var O,v={sendMessage:b(a.SEND_MESSAGE),receiveMessage:b(a.RECEIVE_MESSAGE),changeConnectionStatus:b(a.CHANGE_CONNECTION_STATUS),subscribeToChannel:b(a.SUBSCRIBE_TO_CHANNEL),subscribeToChannelAck:b(a.SUBSCRIBE_TO_CHANNEL_ACK),subscribeToChannelNack:b(a.SUBSCRIBE_TO_CHANNEL_NACK),unsubscribeFromChannel:b(a.UNSUBSCRIBE_FROM_CHANNEL),unsubscribeFromChannelAck:b(a.UNSUBSCRIBE_FROM_CHANNEL_ACK),unsubscribeFromChannelNack:b(a.UNSUBSCRIBE_FROM_CHANNEL_NACK)},C=function(e){var t=e.connection;return function(e){return function(n){return function(r){return t.onReceive((function(t){var r=JSON.parse(t),a=void 0,o=void 0;Array.isArray(r)?o=r[0]:r.hasOwnProperty("chanId")&&(o=r.chanId),o&&e.getState().subscriptions[o]&&(a=e.getState().subscriptions[o]),n(v.receiveMessage(r,a))})),n(r)}}}},p=n(38),m=n(39),E=function(){function e(t){Object(p.a)(this,e),this.realm=t,this.socket=void 0,this.onConnectFn=void 0,this.onReceivedFn=void 0,this.onErrorFn=void 0,this.socket=void 0,this.onReceivedFn=void 0}return Object(m.a)(e,[{key:"start",value:function(){var e=this;this.socket=new WebSocket(this.realm),this.socket.onopen=function(){return e.onConnectFn&&e.onConnectFn()},this.socket.onmessage=function(t){var n=t.data;e.onReceivedFn&&e.onReceivedFn(n)},this.socket.onerror=function(t){return e.onErrorFn&&e.onErrorFn(t)}}},{key:"stop",value:function(){throw new Error("Method not implemented.")}},{key:"send",value:function(e){this.socket&&this.socket.send(e)}},{key:"onConnect",value:function(e){this.onConnectFn=e}},{key:"onReceived",value:function(e){this.onReceivedFn=e}},{key:"onError",value:function(e){this.onErrorFn=e}}]),e}(),h=function(){function e(t){Object(p.a)(this,e),this.connectionProxy=t}return Object(m.a)(e,[{key:"connect",value:function(){this.connectionProxy.start()}},{key:"disconnect",value:function(){this.connectionProxy.stop()}},{key:"send",value:function(e){this.connectionProxy.send(e)}},{key:"onConnect",value:function(e){this.connectionProxy.onConnect(e)}},{key:"onReceive",value:function(e){this.connectionProxy.onReceived(e)}}]),e}(),y=n(122),S=n(2);!function(e){e.SELECT_CURRENCY_PAIR="SELECTION/SELECT_CURRENCY_PAIR"}(O||(O={}));var A,j={selectCurrencyPair:b(O.SELECT_CURRENCY_PAIR)},_=n(117),R=n(76),g=n(55),B=n(51),N=n(75),T=n(120),k=n(116),F=n(130),I=n(49),D=n(47),U=n(121),x=n(131),P=n(10),L=Object(P.a)((function(e){return e.refData}),(function(e){return e.currencyPairs}));!function(e){e.LOAD_REF_DATA="REF_DATA/LOAD_REF_DATA",e.LOAD_REF_DATA_ACK="REF_DATA/LOAD_REF_DATA_ACK",e.LOAD_REF_DATA_NACK="REF_DATA/LOAD_REF_DATA_NACK"}(A||(A={}));var w,M={loadRefData:b(A.LOAD_REF_DATA),loadRefDataAck:b(A.LOAD_REF_DATA_ACK),loadRefDataNack:b(A.LOAD_REF_DATA_NACK)};function K(e){return"undefined"===typeof e?["",""]:[e.slice(0,3),e.slice(3)]}function H(e){var t=K(e),n=Object(S.a)(t,2);return[n[0],n[1]].join(" / ")}!function(e){e.SUBSCRIBE_TO_TICKER="TICKER/SUBSCRIBE_TO_TICKER"}(w||(w={}));var G,z={subscribeToTicker:b(w.SUBSCRIBE_TO_TICKER)};!function(e){e.BOOTSTRAP_APP="APP/BOOTSTRAP_APP"}(G||(G={}));var W,V={bootstrapApp:b(G.BOOTSTRAP_APP)},q=Object(y.a)((function(e,t,n){var o=n.connection;return e.pipe(Object(N.a)(G.BOOTSTRAP_APP),Object(T.a)((function(){return console.log("Bootstrap App"),o.connect(),e.pipe(Object(N.a)(a.CHANGE_CONNECTION_STATUS),Object(k.a)((function(e){return e.payload===r.Connected})),Object(T.a)((function(){return Object(_.a)(Object(R.a)(M.loadRefData()),e.pipe(Object(N.a)(A.LOAD_REF_DATA_ACK),Object(F.a)(1),Object(I.a)((function(){var e=L(t.value),n=e.map((function(e){return z.subscribeToTicker({symbol:e})}));return Object(_.a)(Object(R.a)(j.selectCurrencyPair({currencyPair:e[0]})),Object(g.a)(n))}))))})))})))}),(function(e,t){return e.pipe(Object(N.a)(O.SELECT_CURRENCY_PAIR),Object(T.a)((function(e){var n=e.payload.currencyPair,r=K(n),a=Object(S.a)(r,2)[1];return t.pipe(Object(D.a)((function(e){return e.ticker[n]})),Object(U.a)(),Object(k.a)((function(e){return"undefined"!==typeof e})),Object(x.a)((function(e){var t;return document.title="(".concat(null===(t=e.lastPrice)||void 0===t?void 0:t.toFixed(2)," ").concat(a,") Crypto Trader")})),Object(I.a)((function(){return B.a})))})))})),Y=n(7),J=n(123),X=n(129),$=n(124),Q=n(37),Z=Object(y.a)((function(e,t,n){var r=n.connection;return e.pipe(Object(N.a)(a.SEND_MESSAGE),Object(I.a)((function(e){return r.send(JSON.stringify(e.payload)),B.a})))}),(function(e){return e.pipe(Object(N.a)(a.SUBSCRIBE_TO_CHANNEL,a.UNSUBSCRIBE_FROM_CHANNEL),Object(J.a)((function(t){var n=t.type===a.SUBSCRIBE_TO_CHANNEL;return Object(_.a)(e.pipe(Object(N.a)(a.RECEIVE_MESSAGE),Object(k.a)((function(e){return n&&"subscribed"===e.payload.event&&e.payload.channel===t.payload.channel||!n&&"unsubscribed"===e.payload.event||"error"===e.payload.event})),Object(F.a)(1),Object(X.a)(5e3),Object(D.a)((function(e){var r=e;if("error"===r.payload.event)return n?v.subscribeToChannelNack({error:r.payload.msg}):v.unsubscribeFromChannelNack();var a=r.payload,o=a.channel,c=a.chanId;return n?v.subscribeToChannelAck({channel:o,channelId:c,request:t.payload}):v.unsubscribeFromChannelAck({channelId:c})})),Object($.a)((function(){return n?Object(Q.of)(v.subscribeToChannelNack({error:"Timeout"})):Object(Q.of)(v.unsubscribeFromChannelNack())}))),n?Object(Q.of)(v.sendMessage(Object(Y.a)({event:"subscribe"},t.payload))):Object(Q.of)(v.sendMessage({event:"unsubscribe",chanId:t.payload.channelId})))})))}));!function(e){e.SUBSCRIBE_TO_TRADES="TRADES/SUBSCRIBE_TO_TRADES",e.UNSUBSCRIBE_FROM_TRADES="TRADES/UNSUBSCRIBE_FROM_TRADES"}(W||(W={}));var ee,te={subscribeToTrades:b(W.SUBSCRIBE_TO_TRADES),unsubscribeFromTrades:b(W.UNSUBSCRIBE_FROM_TRADES)},ne=Object(P.a)((function(e){return e.subscriptions}),(function(e){return e})),re=Object(P.a)(ne,(function(e){return function(t,n){return Object.keys(e).map(Number).find((function(r){return e[r].channel===t&&Object.keys(n).every((function(t){return n[t]===e[r].request[t]}))}))}})),ae=Object(y.a)((function(e){return e.pipe(Object(N.a)(W.SUBSCRIBE_TO_TRADES),Object(D.a)((function(e){var t=e.payload.symbol,n={channel:"trades",symbol:"t".concat(t)};return v.subscribeToChannel(n)})))}),(function(e,t){return e.pipe(Object(N.a)(W.UNSUBSCRIBE_FROM_TRADES),Object(I.a)((function(e){var n=e.payload.symbol,r=[],a=re(t.value)("trades",{symbol:"t".concat(n)});return"undefined"!==typeof a?r.push(v.unsubscribeFromChannel({channelId:a})):console.warn("Failed to find trades subscription"),Object(g.a)(r)})))})),oe=n(125),ce=Object(y.a)((function(e){return e.pipe(Object(N.a)(A.LOAD_REF_DATA),Object(T.a)((function(){return Object(oe.a)("data/currencyPairs.json").pipe(Object(T.a)((function(e){return e.json()})),Object(D.a)((function(e){return M.loadRefDataAck({currencyPairs:e})})),Object($.a)((function(){return Object(R.a)(M.loadRefDataNack())})))})))})),ie=Object(y.a)((function(e){return e.pipe(Object(N.a)(w.SUBSCRIBE_TO_TICKER),Object(D.a)((function(e){var t=e.payload.symbol,n={channel:"ticker",symbol:"t".concat(t)};return v.subscribeToChannel(n)})))}));!function(e){e.SUBSCRIBE_TO_CANDLES="CANDLES/SUBSCRIBE_TO_CANDLES",e.UNSUBSCRIBE_FROM_CANDLES="CANDLES/UNSUBSCRIBE_FROM_CANDLES"}(ee||(ee={}));var ue,le={subscribeToCandles:b(ee.SUBSCRIBE_TO_CANDLES),unsubscribeFromCandles:b(ee.UNSUBSCRIBE_FROM_CANDLES)},se=Object(y.a)((function(e){return e.pipe(Object(N.a)(ee.SUBSCRIBE_TO_CANDLES),Object(D.a)((function(e){var t=e.payload,n=t.symbol,r={channel:"candles",key:["trade",t.timeframe,"t".concat(n)].join(":")};return v.subscribeToChannel(r)})))}),(function(e,t){return e.pipe(Object(N.a)(ee.UNSUBSCRIBE_FROM_CANDLES),Object(I.a)((function(e){var n=e.payload,r=n.symbol,a=n.timeframe,o=[],c=re(t.value)("candles",{key:["trade",a,"t".concat(r)].join(":")});return"undefined"!==typeof c?o.push(v.unsubscribeFromChannel({channelId:c})):console.warn("Failed to find candles subscription"),Object(g.a)(o)})))})),de=n(126),be=n(127);!function(e){e.SUBSCRIBE_TO_BOOK="BOOK/SUBSCRIBE_TO_BOOK",e.UNSUBSCRIBE_FROM_BOOK="BOOK/UNSUBSCRIBE_FROM_BOOK"}(ue||(ue={}));var fe={subscribeToBook:b(ue.SUBSCRIBE_TO_BOOK),unsubscribeFromBook:b(ue.UNSUBSCRIBE_FROM_BOOK)},Oe=Object(P.a)((function(e){return e.selection}),(function(e){return e.currencyPair})),ve=Object(y.a)((function(e,t){var n=t.pipe(Object(de.a)());return e.pipe(Object(N.a)(O.SELECT_CURRENCY_PAIR),Object(be.a)(n),Object(T.a)((function(e){var t=Object(S.a)(e,2),n=t[0],r=Object(S.a)(t[1],2),a=r[0],o=(r[1],Oe(a)),c=n.payload.currencyPair,i=[];o&&i.push(le.unsubscribeFromCandles({symbol:o,timeframe:"1m"}),te.unsubscribeFromTrades({symbol:o}),fe.unsubscribeFromBook({symbol:o}));var u=[le.subscribeToCandles({symbol:c,timeframe:"1m"}),te.subscribeToTrades({symbol:c}),fe.subscribeToBook({symbol:c})];return Object(g.a)([].concat(i,u))})))})),Ce=Object(y.a)((function(e){return e.pipe(Object(N.a)(ue.SUBSCRIBE_TO_BOOK),Object(D.a)((function(e){var t=e.payload.symbol,n={channel:"book",symbol:"t".concat(t),prec:"R0"};return v.subscribeToChannel(n)})))}),(function(e,t){return e.pipe(Object(N.a)(ue.UNSUBSCRIBE_FROM_BOOK),Object(I.a)((function(e){var n=e.payload.symbol,r=[],a=re(t.value)("book",{symbol:"t".concat(n)});return"undefined"!==typeof a?r.push(v.unsubscribeFromChannel({channelId:a})):console.warn("Failed to find book subscription"),Object(g.a)(r)})))})),pe=n(9),me=n(14);function Ee(e){return Array.isArray(e.payload)&&"hb"===e.payload[1]}function he(e){return"subscribed"===e.payload.event}function ye(e){return"unsubscribed"===e.payload.event}function Se(e){return"error"===e.payload.event}function Ae(e,t){return Object(S.a)(t.payload,2)[1].map((function(e){var t=Object(S.a)(e,4);return{id:t[0],timestamp:t[1],amount:t[2],price:t[3]}}))}function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=Object(S.a)(t.payload,3),r=n[2],a=Object(S.a)(r,4),o=a[0],c=a[1],i=a[2],u=a[3],l=e.findIndex((function(e){return e.id===o})),s={id:o,timestamp:c,amount:i,price:u};if(l>=0){var d=e.slice();return d.splice(l,1,s),d}return[].concat(Object(me.a)(e),[s])}var _e,Re=f(Object(pe.a)({},a.RECEIVE_MESSAGE,(function(e,t){if(Ee(t)||he(t)||Se(t))return e;var n=t.meta||{},r=n.channel,a=n.request;if("trades"===r){var o=a.symbol.slice(1);if(ye(t)){var c=Object(Y.a)({},e);return delete c[o],c}var i=(Array.isArray(t.payload[1])?Ae:je)(e[o],t);return Object(Y.a)({},e,Object(pe.a)({},o,i))}return e})),{}),ge=f((_e={},Object(pe.a)(_e,a.SUBSCRIBE_TO_CHANNEL_ACK,(function(e,t){var n=t.payload,r=n.request,a=n.channel,o=n.channelId;return Object(Y.a)({},e,Object(pe.a)({},o,{channel:a,request:r}))})),Object(pe.a)(_e,a.UNSUBSCRIBE_FROM_CHANNEL_ACK,(function(e,t){var n=t.payload.channelId,r=Object(Y.a)({},e);return delete r[n],r})),_e),{}),Be=f(Object(pe.a)({},A.LOAD_REF_DATA_ACK,(function(e,t){var n=t.payload.currencyPairs;return Object(Y.a)({},e,{currencyPairs:n})})),{currencyPairs:[]}),Ne=f(Object(pe.a)({},a.RECEIVE_MESSAGE,(function(e,t){if(Ee(t))return e;var n=t.meta||{},r=n.channel,a=n.request;if("ticker"===r){var o=a.symbol.slice(1),c=Object(S.a)(t.payload,2),i=Object(S.a)(c[1],10),u=i[0],l=i[1],s=i[2],d=i[3],b=i[4],f=i[5],O=i[6],v=i[7],C=i[8],p=i[9];return Object(Y.a)({},e,Object(pe.a)({},o,{bid:u,bidSize:l,ask:s,askSize:d,dailyChange:b,dailyChangeRelative:f,lastPrice:O,volume:v,high:C,low:p}))}return e})),{});function Te(e,t){return Object(S.a)(t.payload,2)[1].map((function(e){var t=Object(S.a)(e,6);return{timestamp:t[0],open:t[1],close:t[2],high:t[3],low:t[4],volume:t[5]}}))}function ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=Object(S.a)(t.payload,2),r=n[1],a=Object(S.a)(r,6),o=a[0],c=a[1],i=a[2],u=a[3],l=a[4],s=a[5],d=e.slice();return d.push({timestamp:o,open:c,close:i,high:u,low:l,volume:s}),d}var Fe=f(Object(pe.a)({},a.RECEIVE_MESSAGE,(function(e,t){if(Ee(t)||he(t)||Se(t))return e;var n=t.meta||{},r=n.channel,a=n.request;if("candles"===r){var o=a.key.split(":"),c=Object(S.a)(o,3)[2].slice(1);if(ye(t)){var i=Object(Y.a)({},e);return delete i[c],i}var u=(Array.isArray(t.payload[1][0])?Te:ke)(e[c],t);return Object(Y.a)({},e,Object(pe.a)({},c,u))}return e})),{}),Ie={};function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.SELECT_CURRENCY_PAIR:var n=t.payload.currencyPair;return Object(Y.a)({},e,{currencyPair:n});default:return e}}function Ue(e,t){return Object(S.a)(t.payload,2)[1].map((function(e){var t=Object(S.a)(e,3);return{id:t[0],price:t[1],amount:t[2]}}))}function xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=Object(S.a)(t.payload,2),r=n[1],a=Object(S.a)(r,3),o=a[0],c=a[1],i=a[2],u=e.findIndex((function(e){return e.id===o})),l={id:o,price:c,amount:i};if(0===c&&u>=0){var s=e.slice();return s.splice(u,1),s}if(u>=0){var d=e.slice();return d.splice(u,1,l),d}return[].concat(Object(me.a)(e),[l])}var Pe=f(Object(pe.a)({},a.RECEIVE_MESSAGE,(function(e,t){if(Ee(t)||he(t)||Se(t))return e;var n=t.meta||{},r=n.channel,a=n.request;if("book"===r){var o=a.symbol.slice(1);if(ye(t)){var c=Object(Y.a)({},e);return delete c[o],c}var i=(Array.isArray(t.payload[1][0])?Ue:xe)(e[o],t);return Object(Y.a)({},e,Object(pe.a)({},o,i))}return e})),{}),Le=Object(y.a)(q,ce,Z,ae,ie,se,ve,Ce),we=Object(s.c)({refData:Be,subscriptions:ge,trades:Re,ticker:Ne,candles:Fe,selection:De,book:Pe}),Me=new h(new E("wss://api-pub.bitfinex.com/ws/2")),Ke={connection:Me},He=Object(d.a)({dependencies:Ke}),Ge=C({connection:Me}),ze=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d;var We=n(53),Ve=n(63),qe=n(3),Ye=n(4);function Je(){var e=Object(qe.a)(["\n    width: 100%;\n    height: 100%;\n    font-family: FiraSans-Light;\n"]);return Je=function(){return e},e}var Xe=Ye.a.div(Je()),$e={Bid:"#00AD08",Ask:"#FF264D",Positive:"#00AD08",Negative:"#FF264D",Orange:"#ffa41b",White:"#fff",BackgroundColor:"#222",Label:"rgba(245, 245, 245, 0.64)",Border:"#424242",LightGray:"rgba(245, 245, 245, 0.64)"},Qe=function(e){var t=e.trades,n=[{headerName:"Id",field:"id",hide:!0},{headerName:"Amount",field:"amount",width:120,valueFormatter:function(e){return Math.abs(e.value).toString()},cellStyle:function(e){return{color:e.value<0?$e.Ask:$e.Bid}}},{headerName:"Price",field:"price"},{headerName:"Time",field:"timestamp",sort:"desc",width:90,valueFormatter:function(e){return Ve.DateTime.fromMillis(e.value).toLocaleString(Ve.DateTime.TIME_24_WITH_SECONDS)},cellStyle:function(){return{color:$e.LightGray}}}];return c.a.createElement(Xe,{className:"ag-theme-balham-dark"},c.a.createElement(We.AgGridReact,{columnDefs:n,rowData:t,deltaRowDataMode:!0,getRowNodeId:function(e){return e.id}}))},Ze=n(12),et=Object(P.a)((function(e){return e.trades}),(function(e){return Object(Ze.memoize)((function(t){return e[t]}))})),tt=Object(l.b)((function(e){var t=Oe(e);return{trades:t?et(e)(t):[]}}))(Qe);function nt(){var e=Object(qe.a)(["\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(270px, 1fr));\n    gap: 10px;\n"]);return nt=function(){return e},e}var rt=Ye.a.div(nt()),at=Object(P.a)((function(e){return e.ticker}),(function(e){return Object(Ze.memoize)((function(t){return e[t]}))}));function ot(){var e=Object(qe.a)(["\n    grid-area: change;\n    margin-right: 0;\n    margin-left: auto;\n    color: ",";\n"]);return ot=function(){return e},e}function ct(){var e=Object(qe.a)(["\n    grid-area: relativeChange;\n    font-size: 18px;\n    color: ",";\n    display: flex;\n    font-family: FiraSans-Medium;\n"]);return ct=function(){return e},e}function it(){var e=Object(qe.a)(["\n    color: ",";\n    grid-area: price;\n    margin-right: 0;\n    margin-left: auto;\n"]);return it=function(){return e},e}function ut(){var e=Object(qe.a)(["\n    color: ",";\n    grid-area: currencyPair;\n"]);return ut=function(){return e},e}function lt(){var e=Object(qe.a)(['\n    cursor: pointer;\n    display: grid;\n    grid-template-rows: 30px 1fr;\n    min-height: 60px;\n    grid-template-columns: repeat(2, 1fr);\n    grid-template-areas: \n        "currencyPair price"\n        "relativeChange change";\n    font-size: 12px;\n    padding: 10px 10px 5px 10px;\n    border: 1px solid ',";\n\n    &:hover {\n        background-color: #2d3436;\n    }\n"]);return lt=function(){return e},e}var st=Ye.a.div(lt(),(function(e){return e.isActive?$e.Orange:$e.Border})),dt=Ye.a.div(ut(),$e.White),bt=Ye.a.div(it(),$e.White),ft=Ye.a.div(ct(),(function(e){return e.isPositive?$e.Positive:$e.Negative})),Ot=Ye.a.div(ot(),(function(e){return e.isPositive?$e.Positive:$e.Negative}));function vt(){var e=Object(qe.a)(["\n    color: ",";\n"]);return vt=function(){return e},e}function Ct(){var e=Object(qe.a)(["\n\n"]);return Ct=function(){return e},e}function pt(){var e=Object(qe.a)(["\n    display: flex;\n"]);return pt=function(){return e},e}var mt=Ye.a.div(pt()),Et=Ye.a.div(Ct()),ht=(Ye.a.div(vt(),$e.Orange),function(e){var t=Object(o.createRef)(),n=e.value,r=function(e){var t=Object(o.useRef)();return Object(o.useEffect)((function(){t.current=e}),[e]),t.current}(n),a=Object(o.useState)([]),i=Object(S.a)(a,2),u=Object(S.a)(i[0],2),l=u[0],s=u[1],d=i[1];return Object(o.useEffect)((function(){var e;d(function(e,t){if(!e||!t)return[e,""];for(var n=Math.min(e.length,t.length),r=0,a=0;a<n&&e[a]===t[a];a++)r++;return[e.slice(0,r),e.slice(r,e.length)]}(n||"",r||""));var a=void 0;"function"===typeof(null===(e=t.current)||void 0===e?void 0:e.animate)&&(a=t.current.animate([{color:$e.White},{color:$e.Orange},{color:$e.White}],{duration:500,iterations:2}));var o=setTimeout((function(){d([n||"",""]),a&&a.cancel()}),1500);return function(){return clearTimeout(o)}}),[n]),c.a.createElement(mt,null,c.a.createElement(Et,null,l),c.a.createElement("div",{ref:t},s))});function yt(){var e=Object(qe.a)(["\n    font-size: 16px;\n    line-height: 20px;\n    width: 20px;\n"]);return yt=function(){return e},e}var St=Ye.a.i(yt()),At=function(e){var t=e.value,n=Object(o.useState)(!0),r=Object(S.a)(n,2),a=r[0],i=r[1];Object(o.useEffect)((function(){i(!1);var e=setTimeout((function(){return i(!0)}),5e3);return function(){clearTimeout(e)}}),[t]);var u=a?"":t>0?"arrow_upward":t<0?"arrow_downward":"";return c.a.createElement(St,{className:"material-icons"},u)},jt=function(e){var t=e.currencyPair,n=e.lastPrice,r=e.dailyChange,a=e.dailyChangeRelative,o=e.onClick,i=e.isActive,u=r>0,l=a?100*a:void 0;return c.a.createElement(st,{onClick:o,isActive:!!i},c.a.createElement(dt,null,H(t)),c.a.createElement(bt,null,c.a.createElement(ht,{value:null===n||void 0===n?void 0:n.toFixed(2)})),c.a.createElement(ft,{isPositive:u},c.a.createElement(At,{value:a}),c.a.createElement(ht,{value:null===l||void 0===l?void 0:l.toFixed(2)}),l&&"%"),c.a.createElement(Ot,{isPositive:u},c.a.createElement(ht,{value:null===r||void 0===r?void 0:r.toFixed(2)})))},_t=Object(l.b)((function(e,t){var n=t.currencyPair,r=Oe(e),a=at(e)(n);return{lastPrice:null===a||void 0===a?void 0:a.lastPrice,currencyPair:n,dailyChangeRelative:null===a||void 0===a?void 0:a.dailyChangeRelative,dailyChange:null===a||void 0===a?void 0:a.dailyChange,isActive:r===n}}),(function(e,t){var n=t.currencyPair;return{onClick:function(){return e(j.selectCurrencyPair({currencyPair:n}))}}}))(jt),Rt=function(e){var t=e.currencyPairs;return c.a.createElement(rt,null,t.map((function(e){return c.a.createElement(_t,{key:e,currencyPair:e})})))},gt=Object(l.b)((function(e){return{currencyPairs:L(e)}}))(Rt),Bt=n(80),Nt=n(34),Tt=n(54),kt=n.n(Tt);function Ft(){var e=Object(qe.a)(["\n    width: 100%;\n    height: 100%;\n"]);return Ft=function(){return e},e}var It=Ye.a.div(Ft());Nt.theme={colors:["#2b908f","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:{stops:[[0,"#2a2a2b"],[1,"#3e3e40"]]}},xAxis:{labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:"#A0A0A3"}}},yAxis:{gridLineColor:$e.Border,labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",tickWidth:1,title:{style:{color:"#A0A0A3"}}},tooltip:{borderColor:$e.Border,backgroundColor:"rgba(0, 0, 0, 0.85)",style:{color:$e.White}},plotOptions:{series:{dataLabels:{color:"#F0F0F3",style:{fontSize:"13px"}},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:"white"},errorbar:{color:"white"}},legend:{backgroundColor:"rgba(0, 0, 0, 0.5)",itemStyle:{color:"#E0E0E3"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"},title:{style:{color:"#C0C0C0"}}},credits:{style:{color:"#666"}},labels:{style:{color:"#707073"}},drilldown:{activeAxisLabelStyle:{color:"#F0F0F3"},activeDataLabelStyle:{color:"#F0F0F3"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:"#505053"}}},rangeSelector:{buttonTheme:{fill:"#505053",stroke:"#000000",style:{color:"#CCC"},states:{hover:{fill:"#707073",stroke:"#000000",style:{color:"white"}},select:{fill:"#000003",stroke:"#000000",style:{color:"white"}}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(255,255,255,0.1)",series:{color:"#7798BF",lineColor:"#A6C7ED"},xAxis:{gridLineColor:"#505053"}},scrollbar:{barBackgroundColor:"#808083",barBorderColor:"#808083",buttonArrowColor:"#CCC",buttonBackgroundColor:"#606063",buttonBorderColor:"#606063",rifleColor:"#FFF",trackBackgroundColor:"#404043",trackBorderColor:"#404043"}},Nt.setOptions(Nt.theme);var Dt=function(e){var t=e.candles,n=e.currencyPair,r=Object(o.useState)({time:{useUTC:!1},yAxis:[{labels:{align:"right",x:-3},title:{text:"OHLC"},height:"70%",lineWidth:2,resize:{enabled:!0}},{labels:{align:"right",x:-3},title:{text:"Volume"},top:"75%",height:"25%",offset:0,lineWidth:2}],series:[{type:"candlestick",data:[]},{type:"column",name:"Volume",data:[],yAxis:1}],rangeSelector:{selected:1,buttons:[{type:"minute",count:5,text:"5m"},{type:"minute",count:30,text:"30m"},{type:"hour",count:1,text:"1h"},{type:"hour",count:12,text:"12h"},{type:"all",text:"All"}]}}),a=Object(S.a)(r,2),i=a[0],u=a[1];return Object(o.useEffect)((function(){if(t&&t.length>0){var e=t.map((function(e){var t=e.timestamp,n=Object(Bt.a)(e,["timestamp"]);return Object(Y.a)({x:t},n)})).sort((function(e,t){return e.x-t.x})),r=t.map((function(e){return[e.timestamp,e.volume]})).sort((function(e,t){return e[0]-t[0]}));u({series:[{type:"candlestick",name:n&&H(n),data:e},{type:"column",data:r}],plotOptions:{candlestick:{color:$e.Negative,upColor:$e.Positive},column:{color:$e.LightGray}}})}}),[t,n]),c.a.createElement(It,null,c.a.createElement(kt.a,{highcharts:Nt,options:i,constructorType:"stockChart"}))},Ut=Object(P.a)((function(e){return e.candles}),(function(e){return Object(Ze.memoize)((function(t){return e[t]}))})),xt=Object(l.b)((function(e){var t=Oe(e);return{candles:t?Ut(e)(t):[],currencyPair:t}}))(Dt);function Pt(){var e=Object(qe.a)(["\n    width: 100%;\n    height: 100%;\n    font-family: FiraSans-Light;\n"]);return Pt=function(){return e},e}var Lt=Ye.a.div(Pt()),wt=function(e){var t=e.orders,n=[{headerName:"Bid Amount",field:"bid.amount",width:100,cellStyle:function(){return{color:$e.Bid}}},{headerName:"Bid Price",field:"bid.price",width:100,cellStyle:function(){return{color:$e.Bid}}},{headerName:"Ask Price",field:"ask.price",width:100,cellStyle:function(){return{color:$e.Ask}}},{headerName:"Ask Amount",field:"ask.amount",width:100,cellStyle:function(){return{color:$e.Ask}},valueFormatter:function(e){return e.value?Math.abs(e.value).toString():""}}];return c.a.createElement(Lt,{className:"ag-theme-balham-dark"},c.a.createElement(We.AgGridReact,{columnDefs:n,rowData:t,deltaRowDataMode:!0,getRowNodeId:function(e){var t,n;return[null===(t=e.bid)||void 0===t?void 0:t.id,null===(n=e.ask)||void 0===n?void 0:n.id].join("#")}}))},Mt=function(e){return e.book},Kt=(Object(P.a)(Mt,(function(e){return Object(Ze.memoize)((function(t){return e[t]}))})),Object(P.a)(Mt,(function(e){return Object(Ze.memoize)((function(t){var n=e[t]||[],r=n.filter((function(e){return e.amount>0})).sort((function(e,t){return t.price-e.price})),a=n.filter((function(e){return e.amount<0})).sort((function(e,t){return e.price-t.price})),o=Math.max(r.length,a.length);return Object(Ze.range)(o).map((function(e){return{bid:r[e],ask:a[e],depth:e}}))}))}))),Ht=function(e){return Object(Ze.uniq)(e.map((function(e){return e.price}))).sort((function(e,t){return e-t}))},Gt=function(e){return function(t,n){return t.map((function(t){var r=e.filter((function(e){return n(e,t)})).reduce((function(e,t){return e+Math.abs(t.amount)}),0);return{price:t,depth:r}}))}},zt=Object(P.a)(Mt,(function(e){return Object(Ze.memoize)((function(t){var n=e[t]||[],r=n.filter((function(e){return e.amount>0})),a=n.filter((function(e){return e.amount<0})),o=Ht(r),c=Ht(a);return{bids:Gt(r)(o,(function(e,t){return e.price>=t})),asks:Gt(a)(c,(function(e,t){return e.price<=t}))}}))})),Wt=Object(l.b)((function(e){var t=Oe(e);return{orders:t?Kt(e)(t):[]}}))(wt),Vt=n(27),qt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=Object(o.useMemo)((function(){return Object(Ze.throttle)(e,t)}),[e,t]);return Object(o.useEffect)((function(){return function(){n.cancel()}}),[n]),n};function Yt(){var e=Object(qe.a)(["\n    width: 100%;\n    height: 100%;\n"]);return Yt=function(){return e},e}var Jt=Ye.a.div(Yt());Vt.theme={colors:["#2b908f","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:{stops:[[0,"#2a2a2b"],[1,"#3e3e40"]]}},xAxis:{labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:"#A0A0A3"}}},yAxis:{gridLineColor:$e.Border,labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",tickWidth:1,title:{style:{color:"#A0A0A3"}}},tooltip:{borderColor:$e.Border,backgroundColor:"rgba(0, 0, 0, 0.85)",style:{color:$e.White}},plotOptions:{series:{dataLabels:{color:"#F0F0F3",style:{fontSize:"13px"}},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:"white"},errorbar:{color:"white"}},legend:{backgroundColor:"rgba(0, 0, 0, 0.5)",itemStyle:{color:"#E0E0E3"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"},title:{style:{color:"#C0C0C0"}}},credits:{style:{color:"#666"}},labels:{style:{color:"#707073"}},drilldown:{activeAxisLabelStyle:{color:"#F0F0F3"},activeDataLabelStyle:{color:"#F0F0F3"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:"#505053"}}},rangeSelector:{buttonTheme:{fill:"#505053",stroke:"#000000",style:{color:"#CCC"},states:{hover:{fill:"#707073",stroke:"#000000",style:{color:"white"}},select:{fill:"#000003",stroke:"#000000",style:{color:"white"}}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(255,255,255,0.1)",series:{color:"#7798BF",lineColor:"#A6C7ED"},xAxis:{gridLineColor:"#505053"}},scrollbar:{barBackgroundColor:"#808083",barBorderColor:"#808083",buttonArrowColor:"#CCC",buttonBackgroundColor:"#606063",buttonBorderColor:"#606063",rifleColor:"#FFF",trackBackgroundColor:"#404043",trackBorderColor:"#404043"}},Vt.setOptions(Vt.theme);var Xt=function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=Object(o.useState)(e),r=Object(S.a)(n,2),a=r[0],c=r[1],i=qt(c,t);return i(e),a}(e.depth,1e3),n=Object(o.useState)({chart:{type:"area",animation:!1,height:"250px"},title:{text:""},legend:{enabled:!1},series:[{name:"bids",type:"area",data:[]},{name:"asks",type:"area",data:[]}],xAxis:{labels:{autoRotation:!1}},yAxis:{title:{text:""},labels:{enabled:!1}},plotOptions:{area:{marker:{enabled:!1,states:{hover:{enabled:!1}}}}}}),r=Object(S.a)(n,2),a=r[0],i=r[1];return Object(o.useEffect)((function(){var e=t.bids,n=t.asks;i({xAxis:{categories:[].concat(Object(me.a)(e),Object(me.a)(n)).map((function(e){return e.price.toString()})),labels:{step:5,formatter:function(){return Number.parseFloat(this.value.toString()).toFixed(0)}}},series:[{name:"bids",type:"area",data:[].concat(Object(me.a)(e.map((function(e){return e.depth}))),Object(me.a)(n.map((function(){return null})))),color:$e.Bid},{name:"asks",type:"area",data:[].concat(Object(me.a)(e.map((function(){return null}))),Object(me.a)(n.map((function(e){return e.depth})))),color:$e.Ask}]})}),[t]),c.a.createElement(Jt,null,c.a.createElement(kt.a,{highcharts:Vt,options:a,constructorType:"chart"}))},$t=Object(l.b)((function(e){var t=Oe(e);return{depth:t?zt(e)(t):{bids:[],asks:[]}}}))(Xt);function Qt(){var e=Object(qe.a)(["\n    grid-area: body;\n"]);return Qt=function(){return e},e}function Zt(){var e=Object(qe.a)(["\n    grid-area: header;\n    color: ",";\n    font-size: 12px;\n"]);return Zt=function(){return e},e}function en(){var e=Object(qe.a)(['\n    height: 100%;\n    display: grid;\n    grid-template-rows: 20px 1fr;\n    grid-template-columns: 1fr;\n    grid-template-areas:\n        "header"\n        "body";\n']);return en=function(){return e},e}var tn=Ye.a.div(en()),nn=Ye.a.div(Zt(),$e.Label),rn=Ye.a.div(Qt()),an=function(e){var t=e.children,n=e.title;return c.a.createElement(tn,null,c.a.createElement(nn,null,n),c.a.createElement(rn,null,t))};function on(){var e=Object(qe.a)(["\n    grid-area: depth;\n"]);return on=function(){return e},e}function cn(){var e=Object(qe.a)(["\n    grid-area: book;\n"]);return cn=function(){return e},e}function un(){var e=Object(qe.a)(["\n    grid-area: candles;\n"]);return un=function(){return e},e}function ln(){var e=Object(qe.a)(["\n    grid-area: trades;\n"]);return ln=function(){return e},e}function sn(){var e=Object(qe.a)(["\n    grid-area: tickers;\n    overflow: auto;\n"]);return sn=function(){return e},e}function dn(){var e=Object(qe.a)(["\n    grid-area: header;\n    color: ",";\n    font-family: FiraSans-MediumItalic;\n    background-color: #2d3436;\n    padding: 0 0 0 10px;\n    font-size: 28px;\n"]);return dn=function(){return e},e}function bn(){var e=Object(qe.a)(['\n    display: grid;\n    grid-template-rows: 40px 80px 1fr 250px;\n    grid-template-columns: 400px 400px 1fr;\n    grid-template-areas: \n        "header header header"\n        "tickers tickers tickers"\n        "trades candles candles"\n        "trades book depth";\n    grid-gap: 5px;\n']);return bn=function(){return e},e}function fn(){var e=Object(qe.a)(["\n    background-color: ",";\n    width: 100vw;\n    height: 100vh;\n"]);return fn=function(){return e},e}var On=Ye.a.div(fn(),$e.BackgroundColor),vn=Ye.a.div(bn()),Cn=Ye.a.div(dn(),$e.White),pn=Ye.a.div(sn()),mn=Ye.a.div(ln()),En=Ye.a.div(un()),hn=Ye.a.div(cn()),yn=Ye.a.div(on());n(112),n(113),n(114);var Sn=function(){var e=function(){var e=Object(s.e)(we,ze(Object(s.a)(Ge,He)));return Me.onConnect((function(){e.dispatch(v.changeConnectionStatus(r.Connected)),console.log("Connected")})),He.run(Le),e}();return Object(o.useEffect)((function(){e.dispatch(V.bootstrapApp())}),[]),c.a.createElement(l.a,{store:e},c.a.createElement(On,null,c.a.createElement(vn,null,c.a.createElement(Cn,null,"Crypto Trader"),c.a.createElement(pn,null,c.a.createElement(gt,null)),c.a.createElement(mn,null,c.a.createElement(an,{title:"Trades"},c.a.createElement(tt,null))),c.a.createElement(En,null,c.a.createElement(xt,null)),c.a.createElement(hn,null,c.a.createElement(an,{title:"Book"},c.a.createElement(Wt,null))),c.a.createElement(yn,null,c.a.createElement(an,{title:"Depth"},c.a.createElement($t,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Sn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e,t,n){e.exports=n(115)},86:function(e,t,n){}},[[81,1,2]]]);
//# sourceMappingURL=main.af17ee57.chunk.js.map